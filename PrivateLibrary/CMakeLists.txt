
ADD_LIBRARY(DWIPrivateLibrary wrapper.cxx)

TARGET_LINK_LIBRARIES(DWIPrivateLibrary ${BESSEL_LIB} )

ADD_LIBRARY(TensorOperations tensorscalars.cxx tensordeformation.cxx)
ADD_LIBRARY(DTIIO tensorio.cxx fiberio.cxx deformationfieldio.cxx)
TARGET_LINK_LIBRARIES(DTIIO vtkIO ${ITK_LIBRARIES})
TARGET_LINK_LIBRARIES(TensorOperations vtkIO ${ITK_LIBRARIES})

set( libraries_targets DWIPrivateLibrary TensorOperations DTIIO )

set_target_properties(${libraries_targets} PROPERTIES
    RUNTIME_OUTPUT_DIRECTORY "${CLI_RUNTIME_OUTPUT_DIRECTORY}"
    LIBRARY_OUTPUT_DIRECTORY "${CLI_LIBRARY_OUTPUT_DIRECTORY}"
    ARCHIVE_OUTPUT_DIRECTORY "${CLI_ARCHIVE_OUTPUT_DIRECTORY}"
    )

install(TARGETS ${libraries_targets}
    RUNTIME DESTINATION ${CLI_INSTALL_RUNTIME_DESTINATION} COMPONENT RuntimeLibraries
    LIBRARY DESTINATION ${CLI_INSTALL_LIBRARY_DESTINATION} COMPONENT RuntimeLibraries
    ARCHIVE DESTINATION ${CLI_INSTALL_ARCHIVE_DESTINATION} COMPONENT RuntimeLibraries
    )
