FIND_PATH(BOOST_INCLUDE_DIR boost/config.hpp)

INCLUDE_DIRECTORIES(
${BOOST_INCLUDE_DIR}
)

FIND_PATH(BOOST_LIBRARY_DIR boost_date_time-vc71-mt.lib)
LINK_DIRECTORIES(${BOOST_LIBRARY_DIR})

ADD_EXECUTABLE(dtiestim dtiestim.cxx)

ADD_EXECUTABLE(dtiprocess dtiprocess.cxx)
ADD_EXECUTABLE(nrrdvtk nrrdvtk.cxx)
ADD_EXECUTABLE(dtiaverage dtiaverage.cxx)
ADD_EXECUTABLE(maxcurvature maxcurvature.cxx)
ADD_EXECUTABLE(dtipgaaverage dtipgaaverage.cxx)
ADD_EXECUTABLE(fiberprocess fiberprocess.cxx)
ADD_EXECUTABLE(roiprocess roiprocess.cxx)
#ADD_EXECUTABLE(dtimodelcheck dtimodelcheck.cxx)
ADD_EXECUTABLE(tensorfeature tensorfeature.cxx)
ADD_EXECUTABLE(dwiprocess dwiprocess.cxx)
ADD_EXECUTABLE(labeltable labeltable.cxx)
ADD_EXECUTABLE(hfieldtodeformation  hfieldtodeformation.cxx)


# Win32 has automatic linking of boost libraries so only add boost
# libaries on unix
IF(NOT WIN32 OR CYGWIN)
  SET(BOOST_LIBRARIES boost_program_options)
ENDIF(NOT WIN32 OR CYGWIN)

SET(DWIPROCESS_DEFAULT_LIBRARIES ITKStatistics ITKNumerics ITKIO ITKCommon itkvnl DWIPrivateLibrary)

TARGET_LINK_LIBRARIES(dtiestim ${DWIPROCESS_DEFAULT_LIBRARIES} ${BOOST_LIBRARIES})
TARGET_LINK_LIBRARIES(fiberprocess ${DWIPROCESS_DEFAULT_LIBRARIES}
TensorOperations ${BOOST_LIBRARIES})
TARGET_LINK_LIBRARIES(roiprocess ${DWIPROCESS_DEFAULT_LIBRARIES} ${BOOST_LIBRARIES})
TARGET_LINK_LIBRARIES(dtiprocess ${DWIPROCESS_DEFAULT_LIBRARIES}
TensorOperations ${BOOST_LIBRARIES})
TARGET_LINK_LIBRARIES(nrrdvtk ${DWIPROCESS_DEFAULT_LIBRARIES})
TARGET_LINK_LIBRARIES(dtiaverage ${DWIPROCESS_DEFAULT_LIBRARIES})
TARGET_LINK_LIBRARIES(maxcurvature ${DWIPROCESS_DEFAULT_LIBRARIES} ${BOOST_LIBRARIES})
TARGET_LINK_LIBRARIES(dtipgaaverage ${DWIPROCESS_DEFAULT_LIBRARIES})
#TARGET_LINK_LIBRARIES(dtimodelcheck ${DWIPROCESS_DEFAULT_LIBRARIES})
TARGET_LINK_LIBRARIES(tensorfeature ${DWIPROCESS_DEFAULT_LIBRARIES})
TARGET_LINK_LIBRARIES(dwiprocess ${DWIPROCESS_DEFAULT_LIBRARIES})
TARGET_LINK_LIBRARIES(labeltable ${DWIPROCESS_DEFAULT_LIBRARIES})
TARGET_LINK_LIBRARIES(hfieldtodeformation TensorOperations ITKIO)
